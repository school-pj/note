# ToDoアプリを作ろう
ToDoアプリの作成を通して、HTML, CSS, JavaScriptの基礎を学ぶ

## 課題1
HTMLでToDoの入力フォームを作成しよう

### 達成目標
* HTMLの基本構文が書ける
* フォームを作成できる

## 課題2
JavaScriptでToDoの表示、削除を実装しよう

### 達成目標
* JavaScriptの基本構文が書ける
* 配列操作ができる
* DOM操作ができる
* 関数の作成、呼び出しができる
* JavaScriptファイルの読み込みができる

## 課題3
CSSでフォームの位置を調整しよう

### 達成目標
* CSSファイルの読み込むことができる
* 要素にCSSを適用できる
* 余白の設定ができる


# Node.jsでhttpサーバを構築しよう
httpサーバの構築を通じて、Node.jsの基礎、パスの概念、httpリクエスト/レスポンスの概念を学ぶ

## 課題1
表示するhtmlファイルを作成しよう

### 達成目標
* 見出しを表示できる
* 画像を表示できる
* CSSでbody要素を中央寄せにできる

## 課題2
JavaScriptでリクエストに対する処理を実装しよう

### 達成目標
* リクエストURL、リクエストメソッドを取得できる
* ファイルを読み込むことができる
* ステータスコード、Content-Typeを設定できる
* npm を用いて外部モジュールをインストールできる
* インストールしたモジュールを読み込むことができる


# ToDoアプリをウェブアプリケーションとして作成しよう
ToDoアプリをNode.jsを用いてWebアプリケーションとして作成し、Webアプリケーション開発の基礎を学ぶ

## 課題1
Node.js/express.jsのテンプレートアプリを生成しよう

### 達成目標
* Express Generatorを用いてテンプレートアプリを生成できる
* テンプレートエンジンEJSを設定できる

## 課題2
GETリクエストに対する処理を実装しよう

### 達成目標
* GETリクエストに対するルーティングを定義できる
* .ejsファイルをレンダリングできる
* .ejsファイルに変数(データ)を渡すことができる

## 課題3
ejsファイルにToDoの入力フォーム、ToDoの表示部分を書こう

### 達成目標
* POSTリクエストを送信するフォームを作成できる
* リクエストの送信先を設定できる
* 受け取った変数(データ)を参照できる
* 他の.ejsファイルを読み込むことができる

## 課題4
フォームから送られるPOSTリクエストに対する処理を実装しよう

### 達成目標
* POSTリクエストに対するルーティングを定義できる
* 指定したURLにリダイレクトできる


# データベースを学ぼう
ToDoを永続化するためにデータベースを学習する

## 課題1
MySQLをインストールし、ログインしよう

### 達成目標
* MySQLの環境構築ができる
* MySQLの起動、ログインができる

## 課題2
ToDoアプリで必要なデータ構造を検討し、ToDoタスクを管理するテーブルを作成しよう

### 達成目標
* データベースを作成できる
* データ型と属性がわかる
* テーブルを作成できる

## 課題3
ToDoタスクの参照、追加、削除を行うためのSQLを発行しよう

### 達成目標
* データの参照、追加、削除ができる
* 条件に合ったデータの参照、削除ができる


# ToDoアプリとデータベースを接続しよう
Node.jsからデータベースに接続し、ToDoタスクをデータベースで管理する

## 課題1
配列で追加していたToDoタスクをデータベースに追加するように変更しよう

### 達成目標
* MySQLモジュールを用いてデータベースにデータを追加できる

## 課題2
データベースで管理されているToDoタスクを参照し、表示するように変更しよう

### 達成目標
* MySQLモジュールを用いてデータベースのデータを参照できる

## 課題3
ToDoタスクの削除をformからPOSTリクエストを送信するように変更しよう

### 達成目標
* ブラウザ上に表示されないデータを送信できる
* submitボタンを作成できる

## 課題4
ToDoタスク削除のPOSTリクエストに対して、データベースで管理されている該当のToDoタスクを削除する処理を実装しよう

### 達成目標
* MySQLモジュールを用いてデータベースのデータを削除できる

## 課題5
formのnameを参照し、ToDoタスクの追加と削除のPOSTリクエストをそれぞれの処理に分岐させよう

### 達成目標
* formのnameを参照できる


# knex.jsを導入しよう
## 課題1
knex.jsを使用する準備をしよう

### 達成目標
* 接続情報を設定できる

## 課題2
connection使用部分をknex.jsのクエリビルダに書き換えよう

### 達成目標
* データの参照、追加、削除をそれぞれknex.jsのクエリビルダで操作できる

## 課題3
ToDoタスク削除処理にトランザクションを適用しよう

### 達成目標
* トランザクションが何かがわかる
* knex.jsのトランザクションを適用できる


# ToDoアプリに認証機能を追加しよう
自分のタスクは自分のみが追加、削除できるように、他のユーザのタスクは参照することだけできるようにするために、サインアップ、サインイン機能を追加する

## 課題1
ToDoアプリのユーザを管理するテーブルを作成しよう

### 達成目標
* データ型と属性がわかる
* テーブルを作成できる

## 課題2
サインアップ (ユーザ登録) ページを表示するルーティングを定義しよう

### 達成目標
* GETリクエストに対するルーティングを定義できる
* .ejsファイルをレンダリングできる

## 課題3
.ejsファイルでユーザ登録ページを作成しよう

### 達成目標
* POSTリクエストを送信するフォームを作成できる
* リクエストの送信先を設定できる

## 課題4
サインアップ (ユーザ登録) ページから送られるPOSTリクエストを受け取り、ユーザ情報を検証、データベースに追加する処理を実装しよう

### 達成目標
* POSTリクエストに対するルーティングを定義できる
* knex.jsを用いて、データベースにデータを追加できる

## 課題5
サインイン (ログイン) ページを表示するルーティングを定義しよう

### 達成目標
* GETリクエストに対するルーティングを定義できる
* .ejsファイルをレンダリングできる

## 課題6
.ejsファイルでサインイン (ログイン) ページを作成しよう

### 達成目標
* POSTリクエストを送信するフォームを作成できる
* リクエストの送信先を設定できる

## 課題7
サインイン (ログイン) ページから送られるPOSTリクエストを受け取り、ユーザ情報の認証、ログイン処理を実装しよう

### 達成目標
* データベースで管理されているデータとの照合ができる
* express-sessionを用いて、セッションにユーザ情報を登録できる

## 課題8
ログアウト処理を実装しよう

### 達成目標
* GETリクエストに対するルーティングを定義できる
* セッションを破棄できる


# Bootstrapを用いてToDoアプリにヘッダーを設けよう
サインアップ、サインイン等、ページが増えてきたので各ページに遷移するリンクをヘッダーに置く

## 課題1
Bootstrap4でヘッダーを作成し、サインアップ、サインイン、ログアウトのリンクを置こう

### 達成目標
* Bootstrap4を読み込むことができる
* Bootstrap4でヘッダーを作成できる
* Bootstrap4でリンクを作成できる
* ログインの有無でそれぞれのリンクを表示、非表示できる


# パスワードを安全に管理しよう
パスワードを平文で管理する危険性を理解した上で、ハッシュ化して管理する実装に変更する

## 課題1
サインアップ時にパスワードをハッシュ化してから、データベースに追加する実装に変更しよう

### 達成目標
* bcryptを用いてパスワードをハッシュ化できる
* ハッシュとは何か、ハッシュ関数とは何かがわかる

## 課題2
サインイン時のパスワード照合部分で、生のパスワードとデータベースで管理しているハッシュ化されたパスワードを比較できる実装に変更する

### 達成目標
bcryptの比較用の関数を用いて、比較できる


# passport.jsを用いた認証に変更しよう
認証機能を提供するミドルウェア、passport.jsを学習する

## 課題1
passport.jsの認証処理を実装する

### 達成目標
* LocalStrategyを作成し、リクエストで送られたユーザ情報とデータベースで管理しているデータを比較し、照合する
* サインインのPOSTリクエストを処理している部分で、LocalStrategyを呼び出し、認証をリクエストできる

## 課題2
ユーザー識別子をセッションに埋め込み、それを元にデータベースからユーザ情報を取得できるようにする

### 達成目標
* passport.serializeUserでセッションへの埋め込みができる
* passport.deserializeUserでユーザ情報を取得できる

## 課題3
ログアウト処理部分をpassport.jsの記述に変更する

### 達成目標
* passport.jsに用意されているログアウト用の関数を用いてログアウトできる


# ToDoタスクとユーザを紐付けよう
ToDoタスクとユーザを紐付けることで、自分のタスクは自分のみが追加、削除できるように、他のユーザのタスクは参照だけできるように変更する

## 課題1
ToDoタスクを管理しているテーブルにuser_idカラムを追加し、どのユーザが登録したToDoタスクかわかるようにしよう

### 達成目標
テーブル構造を変更するSQLを発行できる

## 課題2
ToDoタスクを追加している部分で、ユーザidも追加する実装に変更しよう

### 達成目標
* knex.jsのinsertを拡張できる
* リクエストがあったユーザのユーザ情報を取得できる

## 課題3
ToDoタスクを表示している部分で、リクエストがあったユーザが追加したToDoタスクのみ表示する実装に変更しよう

### 達成目標
* 条件にあったデータを参照できる
* リクエストがあったユーザのユーザ情報を取得できる

## 課題4
ToDoタスクの削除時に削除リクエストがあったToDoタスクに紐づいているuser_idとリクエストがあったユーザのユーザidが等しいかチェックしよう

* 条件にあったデータを参照できる
* リクエストがあったユーザのユーザ情報を取得できる

## 課題5
ToDoアプリのユーザ一覧を表示するページを作成し、ヘッダーに作成したページへのリンクを追加しよう

### 達成目標
* GETリクエストに対するルーティングを定義できる
* テーブルで管理されているデータ全件を参照できる
* .ejsファイルに変数(データ)を渡すことができる
* ejsのfor文が扱える

## 課題6
ユーザ一覧ページに表示される各ユーザ名をリンク化し、押下でそのユーザのToDoタスク一覧が表示されるページを作成しよう

### 達成目標
* 各ユーザのユーザidをPOSTリクエストで送信できる
* POSTリクエストに対するルーティングを定義できる
* 条件にあったデータを参照できる
* .ejsファイルに変数(データ)を渡すことができる


# Micropostアプリを作成しよう
アプリケーション開発の最終課題としてToDoアプリと機能が似ているMicropostアプリを作成する。

## 課題
以下の機能が備わっているMicropostアプリを作成する
* サインアップ、サインイン、ログアウト機能
* Micropost (つぶやき) を投稿できる機能
* 自身が投稿したMicropostの一覧を閲覧できる機能
* 自身が投稿したMicropostを削除できる機能
* ユーザ一覧を閲覧できる機能
* 他ユーザのMicropost一覧を閲覧できる機能
* 他ユーザをフォローまたはフォロー解除できる機能
* ユーザ (自他共に) のフォロー数、フォロワー数を表示する機能
* ユーザ (自他共に) のフォロー、フォロワー一覧を表示する機能
* 各Micropostの投稿日を表示する機能
* サインアップしたユーザにようこそメールを送信する機能

## 補足
### ユーザー同士の関連付けについて
* follow, followedの関係を管理するテーブルを新たに作成しよう
* 内部結合joinを用いてfollow, followedとユーザを紐付けよう

### メール送信について
* モジュール「nodemailer」を用いてメール送信しよう
* nodemailerを使用する上で、SMTPサーバとは何かを理解しよう

### 達成目標
これまでに学習した技術を用いて、アプリケーションを作成することができる